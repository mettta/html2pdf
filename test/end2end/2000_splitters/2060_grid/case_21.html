<!doctype html>
<html lang="">

<head>
  <meta charset="utf-8" />
  <meta name="keywords" content="HTML2PDF, end2end" />
  <meta name="description" content="HTML2PDF end2end test" />
  <title>Grid row slicing</title>
  <link rel="stylesheet" href="../../../shared/css/main.css">

  <script
    defer
    data-debug-mode="true"
    data-markup-debug-mode="true"
    data-print-height='600px'
    data-print-width='600px'
    data-print-left-margin= '50px'
    data-print-right-margin= '50px'
    data-print-top-margin= '50px'
    data-print-bottom-margin= '50px'
    data-print-font-size='16px'
    data-console-assert="true"

    data-forced-page-break-selectors=''
    data-page-break-after-selectors=''
    data-page-break-before-selectors=''

    data-no-break-selectors='.html2pdf4doc-no-break'
    data-no-hanging-selectors='.html2pdf4doc-no-hanging'
    src="../../../../dist/bundle.js"></script>
</head>
<style>
  .grid {
    display: grid;
    grid-template-columns: minmax(100px, min-content) minmax(0, 1fr);
    place-items: stretch stretch;
    place-content: stretch stretch;
    gap: 6px 4px; /* has no effect on the #content_padding_bottom_overflow  */
  }

  .grid > *,
  .grid-cell {
    border: 1px solid #006;
    box-sizing: border-box;
    background: #fff;
  }

  .col1 {
    /* grid-column: 1 / 2; */
  }

  .col2 {
    /* grid-column: 2 / 3; */
  }

  .grid-caption {
    grid-column: 1 / 3;
    font-weight: bold;
  }

  .content {
    box-sizing: border-box;
    background-color: rgba(0, 250, 250, 0.2);
    padding: 0 4px 8px; /* TODO #content_padding_bottom_overflow
                        Bottom padding in CONTENT is not taken into account
                        when calculating slice height
                        */
    min-height: 24px;
    font-size: 14px;
    line-height: 16px;
  }

</style>

<body class="test21">
  <div data-testid="pusher" filler="red" style="height:418px"></div>

  <div class="grid" data-testid="root-element">

    <!--
      #content_padding_bottom_overflow

      The size of the content slice is larger than expected.
      The overflow is equal to the content's bottom padding.
    -->

    <div class="grid-cell col1" data-testid="L10-1">
      <div class="content key">key 10</div>
    </div>
    <div class="grid-cell col2" data-testid="L10-2">
      <div class="problematicðŸ§½ content value">
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="blue" style="width: 300px; height: 10px"></div>
        <div filler="yellow" style="width: 300px; height: 10px"></div>
        <!--  -->
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>
        <div filler="green" style="width: 300px; height: 10px"></div>

      </div>
    </div>
    <!-- - -->
    <!--
      To make the first row split, you need to escalate the second row to a full page.
      FIXME: Otherwise, the grid will be transferred to a new page without splitting.
    -->
    <div class="grid-cell col1" data-testid="L111-1">
      <div class="content key">key FULL -></div>
    </div>
    <div class="grid-cell col2" data-testid="L111-2">
      <div class="content value">
        <div filler="red" style="width: 300px; height: 400px"></div>
      </div>
    </div>

  </div>
</body>

</html>
