<!-- длинная таблица внутри рекса -->

<div html2pdf="" class="content">
  <sdoc-section>
    <sdoc-section-title data-level="1">

      <h2 id="1-Backlog-Web-based-user-interface">1.&nbsp;Backlog: Web-based user interface</h2>
    </sdoc-section-title>
    <sdoc-meta>
      <sdoc-meta-label>UID:</sdoc-meta-label>
      <sdoc-meta-field>SDOC_BL_WEB</sdoc-meta-field>
    </sdoc-meta>
    <sdoc-section-text>
      <div class="document">
        <ul class="simple">
          <li>Uploading images via Web interface.</li>
          <li>Deleting sections recursively. Correct clean-up of all traceability information.</li>
          <li>Editing remaining document options: Inline/Table, Requirements in TOC, etc.</li>
          <li>Requirement form:<ul>
              <li>Adding/editing parent/child requirements: validation of cycles.</li>
            </ul>
          </li>
          <li>Integration with Git repository. Make the server commit changes to .sdoc files automatically. To a user,
            provide visibility to what happens under the hood.</li>
          <li>Section form:<ul>
              <li><tt class="docutils literal">UID</tt></li>
              <li>Show incoming/outgoing links.</li>
              <li>Links between sections and documents.</li>
            </ul>
          </li>
          <li>User support - Sign In, Sign Out, Register.</li>
          <li>Option to keep all multi-line text fields to 80 symbols width.</li>
          <li>Moving node up/down/left/right. For example, move a node of level 2 to level 1.<ul>
              <li>Follow-up feature: moving nodes between documents.</li>
            </ul>
          </li>
          <li>TBL view:<ul>
              <li>Column filters to show/hide columns.</li>
              <li>Completely empty columns are hidden by default.</li>
            </ul>
          </li>
          <li>All forms:<ul>
              <li>Contextual help about the RST markup.</li>
              <li>How to edit tables conveniently?</li>
            </ul>
          </li>
          <li>What to do with web content going out of sync with the server/file system state?</li>
          <li>Issue when adding a child section from a nested section. The child
            section appears right after the nested section, not after its farthest
            descendant child.</li>
          <li>ReqIF:<ul>
              <li>Export complete documentation tree or a single document to ReqIF.</li>
              <li>Import complete documentation tree or a single document from ReqIF.</li>
            </ul>
          </li>
          <li>Other:<ul>
              <li>Focused editing of document sections: dedicated and focused <tt
                  class="docutils literal">/sections/</tt> resource.</li>
              <li>Non-RST markup formats.</li>
            </ul>
          </li>
        </ul>
      </div>

    </sdoc-section-text>
  </sdoc-section>
  <sdoc-section>
    <sdoc-section-title data-level="2">

      <h2 id="2-Backlog-Nice-to-have">2.&nbsp;Backlog: Nice to have</h2>
    </sdoc-section-title>

    <sdoc-section-text>
      <div class="document">
        <ul class="simple">
          <li>Configuration file options:<ul>
              <li>CLI command to dump default config file</li>
              <li>Project prefix?</li>
              <li>Paths to dirs with source files.</li>
              <li>Config options for presenting requirements.
                - Include/exclude requirements in TOC</li>
            </ul>
          </li>
          <li>Diff for requirements documents and documentation trees.</li>
          <li>Impact analysis. Most likely a separate screen that shows which requirements a given requirements affects.
          </li>
          <li>StrictDoc as a Python library.<ul>
              <li>Such a use allows a more fine-grained access to the StrictDoc's modules, such as Grammar, Import,
                Export classes, etc.</li>
            </ul>
          </li>
          <li>Data exchange with Capella tool.<ul>
              <li>Note: The current idea would be to implement this using ReqIF export/import features.</li>
            </ul>
          </li>
          <li>Language Server Protocol.<ul>
              <li>The LSP can enable editing of SDoc files in IDEs like Eclipse, Visual Studio, PyCharm. A smart LSP can
                enable features like syntax highlighting, autocompletion and easy navigation through requirements.</li>
              <li>The promising base for the implementation: <a class="reference external"
                  href="https://github.com/openlawlibrary/pygls">https://github.com/openlawlibrary/pygls</a>.</li>
            </ul>
          </li>
          <li>StrictDoc shall support rendering text/code blocks into Markdown syntax.</li>
          <li>Fuzzy requirements search.<ul>
              <li>This feature can be implemented in the CLI as well as in the future GUI. A fuzzy requirements search
                can help to find existing requirements and also identify relevant requirements when creating new
                requirements.</li>
            </ul>
          </li>
          <li>Support creation of FMEA/FMECA safety analysis documents.</li>
          <li>Calculation of checksums for requirements.<ul>
              <li>This feature is relatively easy to implement, but the implementation is postponed until the linking
                between requirements and files is implemented.</li>
            </ul>
          </li>
          <li>Filtering of requirements by tags.</li>
          <li>Import/export: Excel, CSV, PlantUML, Confluence, Tex, Doorstop.</li>
          <li>Partial evaluation of Jinja templates<ul>
              <li>Many of the template variables could be made to be evaluated once, for example, config object's
                variables.</li>
            </ul>
          </li>
          <li>UI version for mobile devices (at least some basic tweaks)</li>
        </ul>
      </div>

    </sdoc-section-text>
  </sdoc-section>
  <sdoc-section>
    <sdoc-section-title data-level="3">

      <h2 id="3-Backlog-Technical-debt">3.&nbsp;Backlog: Technical debt</h2>
    </sdoc-section-title>

    <sdoc-section-text>
      <div class="document">
        <ul class="simple">
          <li>When a document is added, the whole documentation is rebuilt from the file system from scratch. A more
            fine-grained re-indexing of documentation tree can be implemented. The current idea is to introduce a layer
            of pickled cached data: preserve the whole in-memory traceability graph in a cache, and then use the cached
            data for making decisions about what should be regenerated.</li>
          <li>The "no framework" approach with FastAPI and Turbo/Stimulus allows writing almost zero Javascript, however
            some proto-framework conventions are still needed. Currently, all code is written in the <tt
              class="docutils literal">main_controller</tt> which combines all responsibilities, such as parsing HTTP
            request fields, accessing traceability graph, validations, rendering back the updated AJAX templates. A lack
            of abstraction is better than a poor abstraction, but some solution has to be found.</li>
          <li>Request form object vs Response form object. The workflow of form validations is not optimal.</li>
          <li>For Web development, the responsibilities of the <tt class="docutils literal">TraceabilityIndex</tt> class
            compared to the <tt class="docutils literal">ExportAction</tt>, <tt
              class="docutils literal">MarkupRenderer</tt>, <tt class="docutils literal">LinkRenderer</tt> classes are
            unstable. A more ecological composition of classes has to be found. <tt
              class="docutils literal">Traceability</tt> index is rightfully a "god object" because it contains all
            information about the in-memory documentation graph.</li>
        </ul>
      </div>

    </sdoc-section-text>
  </sdoc-section>
  <sdoc-section>
    <sdoc-section-title data-level="4">

      <h2 id="4-Backlog-Known-issues">4.&nbsp;Backlog: Known issues</h2>
    </sdoc-section-title>

    <sdoc-section-text>
      <div class="document">
      </div>

    </sdoc-section-text>
  </sdoc-section>
  <sdoc-section>
    <sdoc-section-title data-level="4.1">

      <h3 id="4.1-HTML-rendering-using-docutils-is-a-performance-bottleneck">4.1.&nbsp;HTML rendering using docutils is
        a performance bottleneck</h3>
    </sdoc-section-title>

    <sdoc-section-text>
      <div class="document">
        <p>The overall generation process is still fast enough but in case some improvements were to be made:</p>
        <ul class="simple">
          <li>It could be measured what takes more time: parsing RST tree or actually rendering HTML</li>
          <li>Simplified RST parser and rendered can be written and their performance can be compared with that of
            docutils API.</li>
        </ul>
        <pre class="code bash literal-block">python<span class="whitespace"> </span>-m<span class="whitespace"> </span>cProfile<span class="whitespace"> </span>-s<span class="whitespace"> </span>cumulative<span class="whitespace"> </span>strictdoc/cli/main.py<span class="whitespace"> </span><span class="name builtin">export</span><span class="whitespace"> </span>--no-parallelization<span class="whitespace"> </span>docs/<span class="whitespace"> </span>&gt;<span class="whitespace"> </span>report.txt
</pre>
        <p>See also: <a class="reference external"
            href="https://docs.python.org/3/library/profile.html#instant-user-s-manual">https://docs.python.org/3/library/profile.html#instant-user-s-manual</a>
        </p>
      </div>

    </sdoc-section-text>
  </sdoc-section>

  <sdoc-requirement requirement-view="simple" data-level="5" data-testid="requirement-style-simple">
    <sdoc-requirement-title id="5-Document-archetypes">
      5.&nbsp;Document archetypes</sdoc-requirement-title>
    <sdoc-requirement-field-label>statement:</sdoc-requirement-field-label>
    <sdoc-requirement-field data-field-label="statement">
      <div class="document">
        <p>StrictDoc shall support the following document archetypes: <strong>requirements document</strong>
          and <strong>specification</strong> document. For both archetypes, StrictDoc shall further
          support the following options.</p>
        <table border="1" class="docutils">
          <caption>Table: Requirements and specification document</caption>
          <colgroup>
            <col width="20%">
            <col width="40%">
            <col width="40%">
          </colgroup>
          <thead valign="bottom">
            <tr>
              <th class="head">&nbsp;</th>
              <th class="head">Requirements document</th>
              <th class="head">Specification document</th>
            </tr>
          </thead>
          <tbody valign="top">
            <tr>
              <td>Examples</td>
              <td>Most typical: requirements lists split by categories (e.g., Functional
                Requirements, Interface Requirements, Performance Requirements, etc.)</td>
              <td>Often: a standard document</td>
            </tr>
            <tr>
              <td>Structure</td>
              <td>Not nested or not too deeply nested</td>
              <td>Nested</td>
            </tr>
            <tr>
              <td>Visual presentation</td>
              <td>Requirements are often presented as table cells. Cells can be standalone
                or the whole section or document can be a long table with cells.</td>
              <td>Requirements are rather presented as header + text</td>
            </tr>
            <tr>
              <td>Unique requirement identifiers (UID)</td>
              <td>Most always</td>
              <td>
                <ul class="first last simple">
                  <li>Present or not</li>
                  <li><strong>NOT SUPPORTED YET:</strong> Can be missing, the chapter headers are used instead.
                    The combination "Number + Title" becomes a reference-able identifier.
                    A possible intermediate solution when modeling such a document is to
                    make the UIDs map to the section number.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>Requirement titles</td>
              <td>
                <ul class="first last simple">
                  <li>Often</li>
                  <li><strong>NOT SUPPORTED YET:</strong> But maybe absent (ex: NASA cFS SCH). If absent,
                    the grouping is provided by sections.</li>
                </ul>
              </td>
              <td>Requirement titles are most often section titles</td>
            </tr>
            <tr>
              <td>Real-world examples</td>
              <td>
                <ul class="first last simple">
                  <li>NASA cFE Functional Requirements</li>
                  <li>MISRA C coding guidelines,</li>
                  <li>NASA Software Engineering Requirements NPR 7150.2</li>
                </ul>
              </td>
              <td>
                <ul class="first last simple">
                  <li>ECSS Software ECSS-E-ST-40C</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </sdoc-requirement-field>
    <sdoc-requirement-field-label>comment:</sdoc-requirement-field-label>
    <sdoc-requirement-field data-field-label="comment">
      <div class="document">
        <p>This draft requirement is the first attempt to organize this information.</p>
      </div>

    </sdoc-requirement-field>
  </sdoc-requirement>
  <sdoc-section>
    <sdoc-section-title data-level="6">

      <h2 id="6-Open-questions">6.&nbsp;Open questions</h2>
    </sdoc-section-title>
  </sdoc-section>
  <sdoc-section>
    <sdoc-section-title data-level="6.1">

      <h3 id="6.1-One-or-many-input-sdoc-trees">6.1.&nbsp;One or many input sdoc trees</h3>
    </sdoc-section-title>

    <sdoc-section-text>
      <div class="document">
        <p>StrictDoc supports this for HTML already but not for RST.</p>
        <p>When passed
          <tt class="docutils literal">strictdoc export ... /path/to/doctree1, /path/to/doctree2,
            /path/to/doctree3</tt>,
          the following is generated:
        </p>
        <pre class="code text literal-block">output folder:
- doctree1/
  - contents
- doctree2/
  - contents
- doctree3/
  - contents
</pre>
        <p>and all three doctrees' requirements are merged into a single documentation
          space with cross-linking possible.</p>
        <p>The question is if it is worth supporting this case further or StrictDoc should
          only work with one input folder with a single doc tree.</p>
      </div>

    </sdoc-section-text>
  </sdoc-section>

</div>
